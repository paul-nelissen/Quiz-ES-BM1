<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toets Epidemiologie & Statistiek BM1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f3f4f6;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .option-btn {
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .option-correct {
            background-color: #d1fae5 !important;
            border-color: #10b981 !important;
            color: #065f46 !important;
        }
        .option-wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #991b1b !important;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-3xl w-full bg-white rounded-xl shadow-lg overflow-hidden min-h-[600px] flex flex-col">
        
        <!-- Header -->
        <div class="bg-blue-700 p-6 text-white flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold">Toets Epidemiologie & Statistiek BM1</h1>
                <p class="text-blue-100 text-sm mt-1">Oefentoets Wetenschappelijk Onderzoek</p>
            </div>
            <div class="text-right hidden" id="score-display">
                <span class="block text-3xl font-bold" id="current-score">0</span>
                <span class="text-xs text-blue-200 uppercase tracking-wider">Punten</span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 h-2">
            <div class="bg-blue-500 h-2 transition-all duration-300" style="width: 0%" id="progress-bar"></div>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="flex-1 flex flex-col items-center justify-center p-8 text-center fade-in">
            <div class="bg-blue-100 p-4 rounded-full mb-6">
                <i class="fas fa-graduation-cap text-4xl text-blue-600"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Welkom bij de oefentoets</h2>
            <p class="text-gray-600 mb-8 max-w-md">
                Deze toets bestaat uit 25 meerkeuzevragen over onderzoeksdesigns, statistiek en epidemiologie. 
                Je krijgt direct feedback na elke vraag.
            </p>
            <button onclick="startQuiz()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg shadow transition transform hover:scale-105">
                Start de Toets
            </button>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="hidden flex-1 flex flex-col p-6 fade-in">
            <div class="flex justify-between items-center mb-6">
                <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm font-medium" id="question-counter">Vraag 1/25</span>
                <button onclick="toggleHint()" class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-2">
                    <i class="far fa-lightbulb"></i> Hint
                </button>
            </div>

            <!-- Hint Box -->
            <div id="hint-box" class="hidden bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 rounded-r">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <i class="fas fa-info-circle text-yellow-500"></i>
                    </div>
                    <div class="ml-3">
                        <p class="text-sm text-yellow-700" id="hint-text"></p>
                    </div>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-6 leading-relaxed" id="question-text"></h3>

            <div class="space-y-3" id="options-container">
                <!-- Options will be injected here -->
            </div>

            <!-- Feedback Area -->
            <div id="feedback-area" class="hidden mt-6 p-4 rounded-lg border">
                <div class="flex items-start gap-3">
                    <div id="feedback-icon" class="mt-1"></div>
                    <div>
                        <h4 class="font-bold text-gray-900" id="feedback-title"></h4>
                        <p class="text-gray-700 mt-1" id="feedback-text"></p>
                    </div>
                </div>
            </div>

            <div class="mt-auto pt-6 flex justify-end">
                <button id="next-btn" onclick="nextQuestion()" class="hidden bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition">
                    Volgende Vraag <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="hidden flex-1 flex flex-col items-center justify-center p-8 text-center fade-in">
            <div id="final-score-icon" class="mb-6"></div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">Toets Voltooid!</h2>
            <p class="text-gray-600 mb-6">Je hebt de eindstreep gehaald. Hier is je resultaat:</p>
            
            <div class="bg-gray-50 rounded-xl p-8 mb-8 w-full max-w-sm border border-gray-200">
                <div class="text-5xl font-bold text-blue-600 mb-2" id="final-score">0/25</div>
                <div class="text-gray-500 font-medium" id="final-percentage">0%</div>
            </div>

            <button onclick="location.reload()" class="bg-gray-800 hover:bg-gray-900 text-white font-semibold py-3 px-8 rounded-lg shadow transition">
                <i class="fas fa-redo mr-2"></i> Opnieuw Proberen
            </button>
        </div>

    </div>

    <script>
        const quizData = {
            "questions": [
                {
                    "questionNumber": 1,
                    "question": "Wat is een fundamenteel kenmerk van de empirische cyclus?",
                    "answerOptions": [
                        { "text": "Het is een lineair traject dat eindigt bij de conclusie.", "rationale": "Dit is onjuist. Wetenschap stopt niet; resultaten roepen nieuwe vragen op, waardoor de cyclus opnieuw begint.", "isCorrect": false },
                        { "text": "Het is een cyclisch proces: resultaten voeden nieuwe hypotheses.", "rationale": "Correct. De cirkel is rond: data-analyse leidt tot inductie, wat weer leidt tot nieuwe theorieën en vragen (deductie).", "isCorrect": true },
                        { "text": "Het is uitsluitend toepasbaar binnen experimenteel onderzoek.", "rationale": "Fout. Ook observationeel onderzoek volgt de stappen van vraagstelling, dataverzameling en analyse.", "isCorrect": false },
                        { "text": "Het sluit het gebruik van bestaande literatuur uit.", "rationale": "Fout. Literatuur is juist essentieel voor het vormen van een theoretisch kader en de hypothese.", "isCorrect": false }
                    ],
                    "hint": "Denk aan de vorm van het proces: stopt het ooit echt?"
                },
                {
                    "questionNumber": 2,
                    "question": "Welk meetniveau kenmerkt zich door een absoluut nulpunt?",
                    "answerOptions": [
                        { "text": "Nominaal", "rationale": "Fout. Nominaal is slechts een label of naam (bijv. haarkleur), zonder rekenkundige waarde.", "isCorrect": false },
                        { "text": "Ratio", "rationale": "Correct. Bij ratio (bijv. gewicht, lengte) betekent '0' de absolute afwezigheid van het kenmerk.", "isCorrect": true },
                        { "text": "Ordinaal", "rationale": "Fout. Ordinaal kent wel een rangorde, maar geen vaste afstanden of een vast nulpunt.", "isCorrect": false },
                        { "text": "Interval", "rationale": "Fout. Interval (bijv. temperatuur in Celsius) heeft vaste afstanden, maar het nulpunt is arbitrair gekozen.", "isCorrect": false }
                    ],
                    "hint": "Bij dit niveau kun je zinnig zeggen dat A twee keer zoveel is als B."
                },
                {
                    "questionNumber": 3,
                    "question": "Wat drukt de prevalentie van een aandoening uit?",
                    "answerOptions": [
                        { "text": "Het aantal nieuwe gevallen in een periode.", "rationale": "Fout. Dit is de definitie van incidentie (het ontstaan van ziekte).", "isCorrect": false },
                        { "text": "De proportie van de bevolking die de ziekte heeft op een moment.", "rationale": "Correct. Prevalentie is een 'snapshot' van de bestaande ziektelast (burden of disease).", "isCorrect": true },
                        { "text": "De snelheid van ziekteverspreiding.", "rationale": "Fout. Snelheid wordt uitgedrukt in incidentiedichtheid (incidence density).", "isCorrect": false },
                        { "text": "De kans op genezing.", "rationale": "Fout. Genezingskans hoort bij prognose, niet bij de frequentie van voorkomen.", "isCorrect": false }
                    ],
                    "hint": "Het gaat om het totaal aantal aanwezige gevallen, niet de nieuwe instroom."
                },
                {
                    "questionNumber": 4,
                    "question": "Bij welk design meet je blootstelling en uitkomst exact tegelijk?",
                    "answerOptions": [
                        { "text": "Cohortonderzoek", "rationale": "Fout. Hier volg je mensen in de tijd; er zit tijd tussen meting van blootstelling en uitkomst.", "isCorrect": false },
                        { "text": "Patiënt-controleonderzoek", "rationale": "Fout. Hier selecteer je op uitkomst en kijk je terug in de tijd naar blootstelling.", "isCorrect": false },
                        { "text": "Randomized Controlled Trial", "rationale": "Fout. Dit is prospectief; je grijpt in en wacht op het resultaat.", "isCorrect": false },
                        { "text": "Dwarsdoorsnedeonderzoek", "rationale": "Correct. Dit is een 'cross-sectional' design: een momentopname (snapshot) van de populatie.", "isCorrect": true }
                    ],
                    "hint": "De Engelse term is 'snapshot'."
                },
                {
                    "questionNumber": 5,
                    "question": "Waarop selecteer je deelnemers bij de start van een patiënt-controleonderzoek?",
                    "answerOptions": [
                        { "text": "Op de blootstelling (wel/niet blootgesteld).", "rationale": "Fout. Selectie op exposure is het kenmerk van cohortonderzoek.", "isCorrect": false },
                        { "text": "Op de uitkomst (wel/geen ziekte).", "rationale": "Correct. Je zoekt 'cases' (zieken) en vergelijkt die met 'controls' (niet-zieken).", "isCorrect": true },
                        { "text": "Op basis van een aselecte steekproef.", "rationale": "Fout. Dit past bij dwarsdoorsnedeonderzoek, waar je nog niet weet wie wat heeft.", "isCorrect": false },
                        { "text": "Op basis van de toegewezen behandeling.", "rationale": "Fout. Behandeling toewijzen hoort bij experimenteel onderzoek (RCT).", "isCorrect": false }
                    ],
                    "hint": "De naam van het design verklapt de groepen: Cases vs. Controls."
                },
                {
                    "questionNumber": 6,
                    "question": "Welke centrummaat wordt het sterkst beïnvloed door extreme uitbijters?",
                    "answerOptions": [
                        { "text": "De modus", "rationale": "Fout. De modus is slechts de meest voorkomende waarde en negeert extremen volledig.", "isCorrect": false },
                        { "text": "Het gemiddelde", "rationale": "Correct. Elke waarde telt mee in de som, dus één extreem hoog getal trekt het gemiddelde omhoog.", "isCorrect": true },
                        { "text": "De mediaan", "rationale": "Fout. De mediaan is de middelste waarneming en is 'robuust' tegen uitschieters.", "isCorrect": false },
                        { "text": "Het 50e percentiel", "rationale": "Fout. Dit is een synoniem voor de mediaan en dus ook robuust.", "isCorrect": false }
                    ],
                    "hint": "Denk aan inkomens: als een miljardair binnenloopt, schiet deze maat omhoog."
                },
                {
                    "questionNumber": 7,
                    "question": "Wat is het primaire doel van randomisatie in een RCT?",
                    "answerOptions": [
                        { "text": "Vergelijkbaarheid van groepen (confounding beperken).", "rationale": "Correct. Door toeval verdelen zorg je dat bekende en onbekende verstoorders gelijk verdeeld zijn.", "isCorrect": true },
                        { "text": "Het vergroten van de steekproefomvang.", "rationale": "Fout. Randomisatie verdeelt de groep alleen, het maakt de groep niet groter.", "isCorrect": false },
                        { "text": "Het blinderen van de deelnemers.", "rationale": "Fout. Dat is 'blinding'. Randomisatie gaat over de toewijzing, niet over wat men weet.", "isCorrect": false },
                        { "text": "Het direct verhogen van de externe validiteit.", "rationale": "Fout. Randomisatie verhoogt de *interne* validiteit. Externe validiteit hangt af van je inclusiecriteria.", "isCorrect": false }
                    ],
                    "hint": "Het zorgt ervoor dat de groepen bij aanvang gelijk zijn ('exchangeable')."
                },
                {
                    "questionNumber": 8,
                    "question": "Waarin verschilt incidentiedichtheid van cumulatieve incidentie?",
                    "answerOptions": [
                        { "text": "Cumulatieve incidentie gebruikt persoonsjaren.", "rationale": "Fout. Cumulatieve incidentie kijkt puur naar het aantal personen aan de start.", "isCorrect": false },
                        { "text": "Incidentiedichtheid neemt de tijdsduur 'at risk' mee.", "rationale": "Correct. De noemer is de som van alle tijd die personen risico liepen (persoonsjaren).", "isCorrect": true },
                        { "text": "Cumulatieve incidentie gaat over bestaande gevallen.", "rationale": "Fout. Dat is prevalentie. Incidentie gaat altijd over *nieuwe* gevallen.", "isCorrect": false },
                        { "text": "Er is geen verschil, het zijn synoniemen.", "rationale": "Fout. Het zijn wiskundig verschillende maten met andere toepassingen (bijv. open vs. gesloten populatie).", "isCorrect": false }
                    ],
                    "hint": "De ene maat telt alleen 'koppen', de andere telt ook de 'klok'."
                },
                {
                    "questionNumber": 9,
                    "question": "Wat definieert een 'open populatie' in onderzoek?",
                    "answerOptions": [
                        { "text": "De grootte blijft gedurende de studie constant.", "rationale": "Fout. Dit past meer bij een gesloten of stationaire populatie, al varieert een open populatie vaak.", "isCorrect": false },
                        { "text": "Er is in- en uitstroom van leden mogelijk.", "rationale": "Correct. Mensen kunnen verhuizen, geboren worden of overlijden tijdens de studieperiode.", "isCorrect": true },
                        { "text": "Niemand kan de studie verlaten na start.", "rationale": "Fout. Dit is de definitie van een gesloten cohort ('fixed cohort').", "isCorrect": false },
                        { "text": "De data zijn voor iedereen toegankelijk.", "rationale": "Fout. 'Open' slaat hier op de populatiedynamiek, niet op 'Open Data' beleid.", "isCorrect": false }
                    ],
                    "hint": "Denk aan de inwoners van een stad versus de passagiers in een vertrekkend vliegtuig."
                },
                {
                    "questionNumber": 10,
                    "question": "Welk type grafiek toont de verdeling van een continue variabele?",
                    "answerOptions": [
                        { "text": "Staafdiagram (Bar chart)", "rationale": "Fout. Bij een staafdiagram staan de staven los van elkaar; geschikt voor categorieën.", "isCorrect": false },
                        { "text": "Cirkeldiagram (Pie chart)", "rationale": "Fout. Een taartdiagram toont verhoudingen van categorieën (nominaal/ordinaal).", "isCorrect": false },
                        { "text": "Histogram", "rationale": "Correct. De staven sluiten aan elkaar aan omdat de schaal op de x-as doorlopend (continue) is.", "isCorrect": true },
                        { "text": "Scatterplot", "rationale": "Fout. Een scatterplot toont het verband tussen *twee* variabelen, niet de verdeling van één.", "isCorrect": false }
                    ],
                    "hint": "Het lijkt op een staafdiagram, maar er zit geen ruimte tussen de balken."
                },
                {
                    "questionNumber": 11,
                    "question": "Waarom gebruiken we (n-1) bij het berekenen van de steekproefvariantie?",
                    "answerOptions": [
                        { "text": "Om te corrigeren voor een onderschatting (bias).", "rationale": "Correct. Delen door n geeft een te kleine variantie; n-1 maakt de schatting zuiver ('unbiased').", "isCorrect": true },
                        { "text": "Omdat de laatste waarneming onbetrouwbaar is.", "rationale": "Fout. Alle waarnemingen tellen mee; de correctie is puur wiskundig voor de vrijheidsgraden.", "isCorrect": false },
                        { "text": "Om de variantie kunstmatig kleiner te maken.", "rationale": "Fout. Delen door een kleiner getal (n-1) maakt de uitkomst juist *groter*.", "isCorrect": false },
                        { "text": "Het is een willekeurige conventie zonder reden.", "rationale": "Fout. Het heeft te maken met 'degrees of freedom': één waarde ligt vast als het gemiddelde bekend is.", "isCorrect": false }
                    ],
                    "hint": "Als je door n deelt, schat je de spreiding in de populatie structureel te laag in."
                },
                {
                    "questionNumber": 12,
                    "question": "Wat is het verschil tussen retrospectief cohort en case-control?",
                    "answerOptions": [
                        { "text": "Case-control selecteert op ziekte, cohort op blootstelling.", "rationale": "Correct. Bij cohort (ook retro) begin je bij de 'exposure' groepen. Bij case-control begin je bij de 'zieken'.", "isCorrect": true },
                        { "text": "Retrospectief cohort kijkt naar de toekomst.", "rationale": "Fout. 'Retrospectief' betekent per definitie terugkijken.", "isCorrect": false },
                        { "text": "Alleen case-control is observationeel.", "rationale": "Fout. Beide designs zijn observationeel; de onderzoeker grijpt niet in.", "isCorrect": false },
                        { "text": "Bij cohort kun je geen risico berekenen.", "rationale": "Fout. Bij cohortonderzoek kun je juist wel incidentie (en dus risico) berekenen omdat je de noemer weet.", "isCorrect": false }
                    ],
                    "hint": "Let op de selectierichting: sorteer je dossiers op 'wel/niet gerookt' of op 'wel/geen longkanker'?"
                },
                {
                    "questionNumber": 13,
                    "question": "Wat geeft de standaarddeviatie (SD) weer?",
                    "answerOptions": [
                        { "text": "De totale spreidingsbreedte (range).", "rationale": "Fout. De range is simpelweg het verschil tussen de hoogste en laagste waarde.", "isCorrect": false },
                        { "text": "De gemiddelde afwijking ten opzichte van het gemiddelde.", "rationale": "Correct. Het is de standaardmaat voor hoe ver datapunten gemiddeld van het centrum liggen.", "isCorrect": true },
                        { "text": "Het kwadraat van de variantie.", "rationale": "Fout. Het is precies andersom: de variantie is het kwadraat van de SD.", "isCorrect": false },
                        { "text": "De middelste waarde van de dataset.", "rationale": "Fout. Dat is de mediaan.", "isCorrect": false }
                    ],
                    "hint": "Een kleine SD betekent een smalle, spitse curve; een grote SD een brede, platte curve."
                },
                {
                    "questionNumber": 14,
                    "question": "Wat is een methodologisch nadeel van een case report?",
                    "answerOptions": [
                        { "text": "Het is erg kostbaar.", "rationale": "Fout. Het is vaak goedkoop omdat het data uit de dagelijkse praktijk betreft.", "isCorrect": false },
                        { "text": "Niet geschikt voor zeldzame aandoeningen.", "rationale": "Fout. Het is juist dé manier om nieuwe, zeldzame ziektebeelden te signaleren.", "isCorrect": false },
                        { "text": "Gebrek aan controlegroep verzwakt het bewijs.", "rationale": "Correct. Zonder vergelijking weet je niet of het natuurlijk beloop anders was geweest ('n=1').", "isCorrect": true },
                        { "text": "Statistische analyses zijn te complex.", "rationale": "Fout. Er is vaak helemaal geen statistische analyse mogelijk of nodig.", "isCorrect": false }
                    ],
                    "hint": "Kun je hardmaken dat de behandeling werkte als je niemand hebt om mee te vergelijken?"
                },
                {
                    "questionNumber": 15,
                    "question": "Welk meetniveau heeft de variabele 'Opleidingsniveau' (VMBO, HAVO, VWO)?",
                    "answerOptions": [
                        { "text": "Nominaal", "rationale": "Fout. Nominaal heeft geen volgorde, maar hier is een duidelijke opbouw in niveau.", "isCorrect": false },
                        { "text": "Ordinaal", "rationale": "Correct. Er is een rangorde, maar het verschil tussen VMBO en HAVO is niet rekenkundig gelijk aan HAVO en VWO.", "isCorrect": true },
                        { "text": "Interval", "rationale": "Fout. Er zijn geen vaste meeteenheden tussen de niveaus.", "isCorrect": false },
                        { "text": "Ratio", "rationale": "Fout. Er is geen sprake van een absoluut nulpunt (geen opleiding is niet '0' op een schaal).", "isCorrect": false }
                    ],
                    "hint": "Je kunt ze op volgorde zetten, maar je kunt niet rekenen met het verschil."
                },
                {
                    "questionNumber": 16,
                    "question": "Wat representeert de 'box' in een boxplot?",
                    "answerOptions": [
                        { "text": "De totale range (min tot max).", "rationale": "Fout. De range wordt vaak aangeduid door de 'whiskers' (snorharen).", "isCorrect": false },
                        { "text": "De interkwartielafstand (IQR).", "rationale": "Correct. De box loopt van Q1 (25%) tot Q3 (75%), dus de middelste 50% van de data.", "isCorrect": true },
                        { "text": "Het gemiddelde +/- 1 standaarddeviatie.", "rationale": "Fout. Een boxplot is gebaseerd op medianen en kwartielen, niet op gemiddelden.", "isCorrect": false },
                        { "text": "Alle uitbijters.", "rationale": "Fout. Uitbijters worden als losse stippen buiten de whiskers getekend.", "isCorrect": false }
                    ],
                    "hint": "Het is het blok in het midden dat de helft van alle waarnemingen bevat."
                },
                {
                    "questionNumber": 17,
                    "question": "Wat is het verschil tussen een 'statistic' en een 'parameter'?",
                    "answerOptions": [
                        { "text": "Statistic = populatie, Parameter = steekproef.", "rationale": "Fout. Precies andersom.", "isCorrect": false },
                        { "text": "Statistic = steekproef, Parameter = populatie.", "rationale": "Correct. Ezelsbruggetje: Sample-Statistic (s, x-streep) en Population-Parameter (Griekse letters).", "isCorrect": true },
                        { "text": "Statistic is altijd een schatting, Parameter is een feit.", "rationale": "Fout. Een statistic is een feitelijke berekening uit je data, de parameter is de onbekende waarheid die je schat.", "isCorrect": false },
                        { "text": "Er is geen inhoudelijk verschil.", "rationale": "Fout. In de statistiek zijn dit strikt gescheiden begrippen.", "isCorrect": false }
                    ],
                    "hint": "Kijk naar de eerste letters: S-S en P-P."
                },
                {
                    "questionNumber": 18,
                    "question": "Welk design is per definitie 'prospectief'?",
                    "answerOptions": [
                        { "text": "Case-control studie", "rationale": "Fout. Dit is retrospectief; de ziekte is er al en je kijkt terug.", "isCorrect": false },
                        { "text": "Cross-sectional studie", "rationale": "Fout. Dit is een momentopname, geen tijdlijn.", "isCorrect": false },
                        { "text": "Retrospectief cohort", "rationale": "Fout. De naam zegt het al: retrospectief (terugkijken in dossiers).", "isCorrect": false },
                        { "text": "Prospectief cohortonderzoek", "rationale": "Correct. Je start nu en volgt mensen naar de toekomst om te zien wat er gebeurt.", "isCorrect": true }
                    ],
                    "hint": "Pro-spectief betekent 'vooruit kijken'."
                },
                {
                    "questionNumber": 19,
                    "question": "Wat houdt het begrip 'validiteit' in?",
                    "answerOptions": [
                        { "text": "De consistentie van metingen bij herhaling.", "rationale": "Fout. Dat heet betrouwbaarheid (reliability).", "isCorrect": false },
                        { "text": "Meten wat je beoogt te meten.", "rationale": "Correct. Validiteit is de afwezigheid van systematische fouten; je meet het juiste concept.", "isCorrect": true },
                        { "text": "De grootte van de steekproef.", "rationale": "Fout. Heeft niets met validiteit te maken.", "isCorrect": false },
                        { "text": "De nauwkeurigheid in decimalen.", "rationale": "Fout. Dat is precisie.", "isCorrect": false }
                    ],
                    "hint": "Als je weegschaal structureel 2 kilo te veel aangeeft, is hij wel betrouwbaar, maar niet..."
                },
                {
                    "questionNumber": 20,
                    "question": "Wat geldt voor een perfecte normaalverdeling?",
                    "answerOptions": [
                        { "text": "Gemiddelde, mediaan en modus vallen samen.", "rationale": "Correct. Vanwege de symmetrie liggen alle centrummaten exact in het midden.", "isCorrect": true },
                        { "text": "De verdeling is scheef naar rechts.", "rationale": "Fout. Een normaalverdeling is symmetrisch, niet scheef.", "isCorrect": false },
                        { "text": "Er zijn twee pieken (toppen).", "rationale": "Fout. Dat is een bimodale verdeling; de normaalverdeling heeft één top (unimodaal).", "isCorrect": false },
                        { "text": "De staart links is langer dan rechts.", "rationale": "Fout. De staarten zijn aan beide kanten even lang.", "isCorrect": false }
                    ],
                    "hint": "Denk aan de klokvorm: het hoogste punt is precies in het midden."
                },
                {
                    "questionNumber": 21,
                    "question": "Wat is de basis van de 'epidemiologische breuk'?",
                    "answerOptions": [
                        { "text": "Aantal zieken gedeeld door totale populatie.", "rationale": "Correct. De essentie is: teller (gevallen) / noemer (risicopopulatie).", "isCorrect": true },
                        { "text": "Aantal genezen patiënten gedeeld door zieken.", "rationale": "Fout. Dit is een specifieke ratio, niet de basisbreuk voor frequentie.", "isCorrect": false },
                        { "text": "De verhouding tussen mannen en vrouwen.", "rationale": "Fout. Dat is een 'sex ratio'.", "isCorrect": false },
                        { "text": "Het verschil tussen theorie en praktijk.", "rationale": "Fout. Dit is spreektaal, geen epidemiologie.", "isCorrect": false }
                    ],
                    "hint": "Het gaat om de verhouding tussen het 'deel' en het 'geheel'."
                },
                {
                    "questionNumber": 22,
                    "question": "Waarom is case-control geschikt voor zeldzame ziekten?",
                    "answerOptions": [
                        { "text": "Omdat je direct de zeldzame gevallen selecteert.", "rationale": "Correct. In een cohort zou je duizenden mensen moeten volgen om één zeldzaam geval te vinden; hier zoek je ze direct op.", "isCorrect": true },
                        { "text": "Omdat het prospectief is.", "rationale": "Fout. Case-control is retrospectief.", "isCorrect": false },
                        { "text": "Omdat je geen controlegroep nodig hebt.", "rationale": "Fout. Zonder controles is het een case series, geen case-control studie.", "isCorrect": false },
                        { "text": "Omdat het causale bewijs sterker is.", "rationale": "Fout. Case-control heeft juist zwakker causaal bewijs dan cohort of RCT.", "isCorrect": false }
                    ],
                    "hint": "Het is efficiëntie: je hoeft niet te wachten tot de ziekte ontstaat."
                },
                {
                    "questionNumber": 23,
                    "question": "Wanneer is een verdeling 'scheef' (skewed)?",
                    "answerOptions": [
                        { "text": "Als het gemiddelde en de mediaan uit elkaar lopen.", "rationale": "Correct. Bij een symmetrische verdeling zijn ze gelijk; bij scheefheid trekt de staart het gemiddelde weg.", "isCorrect": true },
                        { "text": "Als de standaarddeviatie nul is.", "rationale": "Fout. Dan zijn alle waarden identiek.", "isCorrect": false },
                        { "text": "Als de data normaal verdeeld zijn.", "rationale": "Fout. Normaal betekent symmetrisch, het tegenovergestelde van scheef.", "isCorrect": false },
                        { "text": "Als de steekproef te klein is.", "rationale": "Fout. Ook grote steekproeven kunnen scheef verdeeld zijn (bijv. inkomen).", "isCorrect": false }
                    ],
                    "hint": "De grafiek leunt naar één kant en is niet spiegelbaar."
                },
                {
                    "questionNumber": 24,
                    "question": "Wat is het kerndoel van beschrijvende statistiek?",
                    "answerOptions": [
                        { "text": "Het toetsen van hypothesen (p-waardes).", "rationale": "Fout. Dat is inferentiële (toetsende) statistiek.", "isCorrect": false },
                        { "text": "Data samenvatten en overzichtelijk maken.", "rationale": "Correct. Denk aan tabellen, grafieken en gemiddelden om orde in de chaos te scheppen.", "isCorrect": true },
                        { "text": "Generaliseren naar de gehele populatie.", "rationale": "Fout. Dat is inferentie (schatten).", "isCorrect": false },
                        { "text": "Oorzakelijke verbanden bewijzen.", "rationale": "Fout. Beschrijven zegt nog niets over oorzaken.", "isCorrect": false }
                    ],
                    "hint": "Het gaat om 'beschrijven' wat je ziet, nog niet om conclusies trekken."
                },
                {
                    "questionNumber": 25,
                    "question": "Wat is een 'determinant'?",
                    "answerOptions": [
                        { "text": "De uitkomst of ziekte.", "rationale": "Fout. Dat noemen we de 'outcome'.", "isCorrect": false },
                        { "text": "De factor die de uitkomst beïnvloedt.", "rationale": "Correct. Het is de variabele die de uitkomst bepaalt (de oorzaak of risicofactor).",
                        "isCorrect": true },
                        { "text": "De statistische significantie.", "rationale": "Fout. Dat is een maat voor zekerheid.", "isCorrect": false },
                        { "text": "De onderzoekspopulatie.", "rationale": "Fout. Determinanten zijn eigenschappen *van* de populatie.", "isCorrect": false }
                    ],
                    "hint": "In een oorzaak-gevolg relatie is dit de oorzaak."
                }
            ]
        };

        let currentQuestionIndex = 0;
        let score = 0;
        let hasAnswered = false;

        const startScreen = document.getElementById('start-screen');
        const quizContainer = document.getElementById('quiz-container');
        const endScreen = document.getElementById('end-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const currentScoreEl = document.getElementById('current-score');
        const scoreDisplayEl = document.getElementById('score-display');
        const questionCounterEl = document.getElementById('question-counter');
        const progressBar = document.getElementById('progress-bar');
        
        // Feedback elements
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const feedbackIcon = document.getElementById('feedback-icon');

        // Hint elements
        const hintBox = document.getElementById('hint-box');
        const hintText = document.getElementById('hint-text');

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            scoreDisplayEl.classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            hasAnswered = false;
            const question = quizData.questions[currentQuestionIndex];
            
            // Reset UI
            feedbackArea.classList.add('hidden');
            nextBtn.classList.add('hidden');
            hintBox.classList.add('hidden');
            optionsContainer.innerHTML = '';
            
            // Set text
            questionText.textContent = question.question;
            questionCounterEl.textContent = `Vraag ${currentQuestionIndex + 1}/${quizData.questions.length}`;
            hintText.textContent = question.hint;

            // Update progress
            const progress = ((currentQuestionIndex) / quizData.questions.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Create options
            question.answerOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn w-full text-left p-4 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 flex justify-between items-center group';
                button.innerHTML = `
                    <span class="text-gray-700 font-medium group-hover:text-blue-700">${option.text}</span>
                    <i class="far fa-circle text-gray-300 group-hover:text-blue-500"></i>
                `;
                button.onclick = () => selectAnswer(option, button);
                optionsContainer.appendChild(button);
            });
        }

        function toggleHint() {
            hintBox.classList.toggle('hidden');
        }

        function selectAnswer(selectedOption, buttonElement) {
            if (hasAnswered) return;
            hasAnswered = true;

            const buttons = optionsContainer.getElementsByTagName('button');
            const isCorrect = selectedOption.isCorrect;

            // Disable all buttons
            for (let btn of buttons) {
                btn.disabled = true;
                btn.classList.add('opacity-75', 'cursor-not-allowed');
            }

            // Visual feedback on button
            if (isCorrect) {
                buttonElement.classList.add('option-correct');
                buttonElement.innerHTML = `
                    <span class="font-medium">${selectedOption.text}</span>
                    <i class="fas fa-check-circle"></i>
                `;
                score++;
                currentScoreEl.textContent = score;
                triggerConfetti();
            } else {
                buttonElement.classList.add('option-wrong');
                buttonElement.innerHTML = `
                    <span class="font-medium">${selectedOption.text}</span>
                    <i class="fas fa-times-circle"></i>
                `;
                
                // Highlight correct answer
                const correctOption = quizData.questions[currentQuestionIndex].answerOptions.find(o => o.isCorrect);
                for (let btn of buttons) {
                    if (btn.textContent.includes(correctOption.text)) {
                        btn.classList.add('option-correct');
                        btn.innerHTML = `
                            <span class="font-medium">${correctOption.text}</span>
                            <i class="fas fa-check-circle"></i>
                        `;
                    }
                }
            }

            // Show Feedback Area
            feedbackArea.classList.remove('hidden');
            feedbackArea.className = `mt-6 p-4 rounded-lg border ${isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`;
            
            feedbackTitle.textContent = isCorrect ? "Goed gedaan!" : "Niet helemaal...";
            feedbackTitle.className = `font-bold ${isCorrect ? 'text-green-800' : 'text-red-800'}`;
            
            feedbackText.textContent = selectedOption.rationale;
            feedbackText.className = `mt-1 ${isCorrect ? 'text-green-700' : 'text-red-700'}`;
            
            feedbackIcon.innerHTML = isCorrect ? 
                '<i class="fas fa-check text-green-600 text-xl"></i>' : 
                '<i class="fas fa-times text-red-600 text-xl"></i>';

            nextBtn.classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.questions.length) {
                loadQuestion();
            } else {
                showEndScreen();
            }
        }

        function showEndScreen() {
            quizContainer.classList.add('hidden');
            endScreen.classList.remove('hidden');
            scoreDisplayEl.classList.add('hidden');
            progressBar.style.width = '100%';

            const finalScoreEl = document.getElementById('final-score');
            const finalPercentEl = document.getElementById('final-percentage');
            const finalIcon = document.getElementById('final-score-icon');
            
            finalScoreEl.textContent = `${score}/${quizData.questions.length}`;
            const percentage = Math.round((score / quizData.questions.length) * 100);
            finalPercentEl.textContent = `${percentage}% Goed`;

            if (percentage >= 80) {
                finalIcon.innerHTML = '<i class="fas fa-trophy text-6xl text-yellow-400 mb-4 animate-bounce"></i>';
                endScreen.querySelector('h2').textContent = "Uitstekend!";
                endScreen.querySelector('p').textContent = "Je beheerst de stof fantastisch.";
            } else if (percentage >= 55) {
                finalIcon.innerHTML = '<i class="fas fa-thumbs-up text-6xl text-blue-500 mb-4"></i>';
                endScreen.querySelector('h2').textContent = "Goed gedaan";
                endScreen.querySelector('p').textContent = "Je hebt een voldoende, maar er is ruimte voor verbetering.";
            } else {
                finalIcon.innerHTML = '<i class="fas fa-book-open text-6xl text-gray-400 mb-4"></i>';
                endScreen.querySelector('h2').textContent = "Blijven oefenen";
                endScreen.querySelector('p').textContent = "Bekijk de theorie nog eens goed.";
            }
        }

        function triggerConfetti() {
            // Simple visual effect could be added here
        }
    </script>
</body>
</html>